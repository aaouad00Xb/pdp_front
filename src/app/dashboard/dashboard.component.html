<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * * The content below * * * * * * * * * * * -->
<!-- * * * * * * * * * * is only a placeholder * * * * * * * * * * -->
<!-- * * * * * * * * * * and can be replaced. * * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * Delete the template below * * * * * * * * * * -->
<!-- * * * * * * * to get started with your project! * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->



<!-- Toolbar -->
<!-- <div class="toolbar" role="banner">
  <img
    width="40"
    alt="Angular Logo"
    src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg=="
  />
  <span>Welcome</span>
    <div class="spacer"></div>
    <a aria-label="Angular on X" target="_blank" rel="noopener" href="https://twitter.com/angular" title="X">
      <svg id="twitter-logo" xmlns="http://www.w3.org/2000/svg" height="24" width="24" data-name="Logo" viewBox="0 0 512 512" fill="#fff">
        <path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"/>
      </svg>
    </a>
    <a aria-label="Angular on YouTube" target="_blank" rel="noopener" href="https://youtube.com/angular" title="YouTube">
      <svg id="youtube-logo" height="24" width="24" data-name="Logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#fff">
        <path d="M0 0h24v24H0V0z" fill="none"/>
        <path d="M21.58 7.19c-.23-.86-.91-1.54-1.77-1.77C18.25 5 12 5 12 5s-6.25 0-7.81.42c-.86.23-1.54.91-1.77 1.77C2 8.75 2 12 2 12s0 3.25.42 4.81c.23.86.91 1.54 1.77 1.77C5.75 19 12 19 12 19s6.25 0 7.81-.42c.86-.23 1.54-.91 1.77-1.77C22 15.25 22 12 22 12s0-3.25-.42-4.81zM10 15V9l5.2 3-5.2 3z"/>
      </svg>
    </a>
</div> -->

<div class="content"  >

    <!-- Highlight Card -->
     <div class="container">
      <div class="row bar"
      style="
        border-radius: 10px;
        color: white;
      ">
      <div class="col-2 align-items-center" style=" text-align: center;">
        <img src="assets/image.png" width="100px" alt="" style="display: block; margin: 0 auto;">
      </div>
      <div class="col-6 title"  > {{ 'dashboard.title' | translate }}
      </div>
      <div class="col-2 align-items-center" style="text-align: center;">
        <app-language-toggle></app-language-toggle>
      </div>
      <div class="col-2 align-items-center" style="text-align: center;">
        <img src="assets/image22.png" width="60px" alt="" style="display: block; margin: 0 auto;">
      </div>
  
     
      
      
    </div>
    <h3 style="text-align: center; background-color: rgba(255, 166, 0, 0.301);">{{ 'dashboard.title' | translate }} <button class="btn btn-sm btn-success" [routerLink]="['/login']">{{ 'nav.login' | translate }}</button>
    </h3>
  
     </div>
   
    <!-- Resources -->
  
    <div class="dd">
      <div class="row">
        <div class="col-12 col-lg-4  col-md-6  col-sm-12   ">
          <div class="card">
           
              <table id="customers" >
                <tr>
                  <th style="text-align: center;">{{ 'dashboard.totalBudget' | translate }}</th>
                </tr>
    
                <tr>
                  <td colSpan="12" style="text-align:center;font-weight: bolder; 
                  color: #E8751A;
                  font-size: 26px;"> {{generaldata?.coutEstime.toFixed(3) }} </td>
                </tr>
    
                </table>
    
            </div>
   
        </div>
        <div class="col-12 col-lg-4  col-md-6  col-sm-12   ">
          <div class="card">
   
              <table id="customers" >
                <tr>
    
                  <th style="text-align: center;">{{ 'fields.partConseilPrefectoral' | translate }}</th>
                
                </tr>
    
                <tr>
                  <td colSpan="12" style="text-align:center;font-weight: bolder; 
                  color: #E8751A;
                  font-size: 26px;">{{generaldata?.partConseilPrefectoral.toFixed(3) }} </td>
                </tr>
    
                </table>
         
          </div>
        </div>
        <div class="col-12 col-lg-4  col-md-6  col-sm-12   ">
          <div class="card">
           
              <table id="customers" >
                <tr>
    
                  <th style="text-align: center;">{{ 'fields.partPartenaire' | translate }}</th>
                
                </tr>
    
                <tr>
                  <td colSpan="12" style="text-align:center;font-weight: bolder; 
                  color: #E8751A;
                  font-size: 26px;"> {{generaldata?.partPartenaire.toFixed(3) }}</td>
                </tr>
    
                </table>
            </div>
    
        </div>
       </div>
       <div class="row">
         
        <div class="col-2 col-lg-2  col-md-4  col-sm-6    " *ngFor="let ele of generaldata?.groupedSums">
          <div class="card card2">
            <div class="card-header">
              {{ele.anneeRealisation}}
            </div>
     
              <table id="customers2" >
                <tr>
    
                  <th>{{ 'dashboard.globalCost' | translate }}</th>
                  <th>{{ 'dashboard.cpContribution' | translate }}</th>
                  <th>{{ 'dashboard.percentage' | translate }}</th>
                
                </tr>
    
                <tr>
                  <td   style="text-align:center">        {{ele?.sumCoutEstime.toFixed(3)}} MDh </td>
                  <td   style="text-align:center">        {{ele?. sumPartConseilPrefectoral.toFixed(3)}} MDh</td>
                  <td style="text-align:center">        {{(ele?. sumPartConseilPrefectoral * 100/ ele?.sumCoutEstime).toFixed(3)}} %</td>
                </tr>
    
                </table>
    
           
          </div>
        </div>
        <div class="col-2 col-lg-2  col-md-4  col-sm-12    " >
  
          <div class="card" >
            <div class="card-body">
              <select style="height: 40vh;" class="form-select custom-select" (change)="onyearChange($event)"  multiple aria-label="Multiple select example">
                 <option value="2022">2022</option>
                <option value="2023">2023</option>
                <option value="2024">2024</option>
                <option value="2025">2025</option>
                <option value="2026">2026</option>
                <option value="2027">2027</option>
                
              </select>
            </div>
          </div>
        
       </div>
  
       <div class="col-5 col-lg-5  col-md-6  col-sm-12    ">
  
        <div class="card">
          <div class="card-body">
            <app-pie [data1]="getTransformedPieData()"></app-pie>
          </div>
        </div>
      
     </div>
       <div class="col-5 col-lg-5  col-md-6  col-sm-12    ">
  
        <div class="card">
          <div class="card-body">
            <app-bar [data1]="generaldata.groupedSums" [legendLabels]="getChartLegends()"></app-bar>
  
          </div>
        </div>
      
     </div>
  
     <div class="col-12 ">
  
      <div class="card">
        <div class="card-body">
          <app-bar2 [label]="getTransformedChartData()?.projetActions" [data1]="getTransformedChartData()?.dataset" [legendLabels]="getChartLegendLabels()"></app-bar2>
  
        </div>
      </div>
    
   </div>
  
       </div>
  
  
       <div class="row">
     
  
       <div class="col-6 col-lg-6  col-md-12  col-sm-12    " >
  
        <div class="card" >
          <div class="card-header">
            {{ 'dashboard.byAxes' | translate }}
          </div>
          <div class="card-body">
            <select style="font-size: 6px;height: 29vh;" class="form-select custom-select2" (change)="onaxesChange($event)"  multiple aria-label="Multiple select example">
              <option [value]="ele" *ngFor="let ele of axes">{{ele}}</option>            
           </select>
          </div>
        </div>
      
     </div>
       <div class="col-6 col-lg-6  col-md-12  col-sm-12   " >
  
        <div class="card" >
          <div class="card-header">
            {{ 'dashboard.byObjectives' | translate }}
          </div>
          <div class="card-body">
            <select style="height: 29vh;" class="form-select custom-select2" (change)="onObjectifsChange($event)" multiple aria-label="Multiple select example">
              <option [value]="ele" *ngFor="let ele of objectifs">{{ele}}</option>
            </select>
          </div>
        </div>
      
     </div>
     <div class="col-2 col-lg-2  col-md-6  col-sm-12    " *ngFor="let ele of keys">
  
      <div class="card">
        <div class="card-body">
          <app-pie2 [data1]="getTransformedPieData2(ele)" [label]="getTranslatedLabel(ele)" ></app-pie2>
        </div>
      </div>
    
   </div>
   
       </div>
  



       <div class="card">
        
        <div class="card-header">
          2022
        </div>

        <div class="responsive-table tabb" >

        
        <table class="table" id="customers12">
          <thead>
      <tr>
      <th colSpan="1">{{ 'fields.anneeRealisation' | translate }}
      </th>
      <th colSpan="3">{{ 'fields.axes' | translate }}</th>
      
      <th colSpan="1">{{ 'fields.projetAction' | translate }}</th>
      <th colSpan="3">{{ 'fields.tauxRealisationPhysique' | translate }}</th>
      </tr>
          </thead>
          <tbody>
      
            <tr *ngFor="let ele of data;let i = index">
              <td colSpan="1">{{ele.annee_realisation}}
              </td>
              <td colSpan="3" style="text-align: center;justify-content: center;">{{ele.displayAxes || ele.axes}}</td>
           
              <td colSpan="1">{{ele.displayProjetAction || ele.projet_action}}</td>
              <td colSpan="3"> <app-barr [data1]="data[i]"></app-barr>
                
                 </td>
              </tr>
          </tbody>
         </table>
      </div>
      </div>

      <div class="card">
        
        <div class="card-header">
          2023
        </div>
        <div class="responsive-table tabb" >

        <table class="table" id="customers12">
          <thead>
      <tr>
      <th colSpan="1">{{ 'fields.anneeRealisation' | translate }}
      </th>
      <th colSpan="3">{{ 'fields.axes' | translate }}</th>
      
      <th colSpan="1">{{ 'fields.projetAction' | translate }}</th>
      <th colSpan="3">{{ 'fields.tauxRealisationPhysique' | translate }}</th>
      </tr>
          </thead>
          <tbody>
      
            <tr *ngFor="let ele of data2;let i = index">
              <td colSpan="1">{{ele.annee_realisation}}
              </td>
              <td colSpan="3" style="text-align: center;justify-content: center;">{{ele.displayAxes || ele.axes}}</td>
           
              <td colSpan="1">{{ele.displayProjetAction || ele.projet_action}}</td>
              <td colSpan="3"> <app-barr [data1]="data2[i]"></app-barr>
                
                 </td>
              </tr>
          </tbody>
         </table>
      </div>
      </div>
      <div class="card">
        
        <div class="card-header">
          2024
        </div>
        <div class="responsive-table tabb" >

        <table class="table" id="customers12">
          <thead>
      <tr>
      <th colSpan="1">{{ 'fields.anneeRealisation' | translate }}
      </th>
      <th colSpan="3">{{ 'fields.axes' | translate }}</th>
      
      <th colSpan="1">{{ 'fields.projetAction' | translate }}</th>
      <th colSpan="3">{{ 'fields.tauxRealisationPhysique' | translate }}</th>
      </tr>
          </thead>
          <tbody>
      
            <tr *ngFor="let ele of data3;let i = index">
              <td colSpan="1">{{ele.annee_realisation}}
              </td>
              <td colSpan="3" style="text-align: center;justify-content: center;">{{ele.displayAxes || ele.axes}}</td>
           
              <td colSpan="1">{{ele.displayProjetAction || ele.projet_action}}</td>
              <td colSpan="3"> <app-barr [data1]="data3[i]"></app-barr>
                
                 </td>
              </tr>
          </tbody>
         </table>
      </div>
      </div>
      <div class="card">
        
        <div class="card-header">
          2024
        </div>
        <div class="responsive-table tabb" >

        <table class="table" id="customers12">
          <thead>
      <tr>
      <th colSpan="1">{{ 'fields.anneeRealisation' | translate }}
      </th>
      <th colSpan="3">{{ 'fields.axes' | translate }}</th>
      
      <th colSpan="1">{{ 'fields.projetAction' | translate }}</th>
      <th colSpan="3">{{ 'fields.tauxRealisationPhysique' | translate }}</th>
      </tr>
          </thead>
          <tbody>
      
            <tr *ngFor="let ele of data4;let i = index">
              <td colSpan="1">{{ele.annee_realisation}}
              </td>
              <td colSpan="3" style="text-align: center;justify-content: center;">{{ele.displayAxes || ele.axes}}</td>
           
              <td colSpan="1">{{ele.displayProjetAction || ele.projet_action}}</td>
              <td colSpan="3"> <app-barr [data1]="data4[i]"></app-barr>
                
                 </td>
              </tr>
          </tbody>
         </table>
      </div>
      </div>
      <div class="card">
        
        <div class="card-header">
          2025
        </div>
        <div class="responsive-table tabb" >

        <table class="table" id="customers12">
          <thead>
      <tr>
      <th colSpan="1">{{ 'fields.anneeRealisation' | translate }}
      </th>
      <th colSpan="3">{{ 'fields.axes' | translate }}</th>
      
      <th colSpan="1">{{ 'fields.projetAction' | translate }}</th>
      <th colSpan="3">{{ 'fields.tauxRealisationPhysique' | translate }}</th>
      </tr>
          </thead>
          <tbody>
      
            <tr *ngFor="let ele of data5;let i = index">
              <td colSpan="1">{{ele.annee_realisation}}
              </td>
              <td colSpan="3" style="text-align: center;justify-content: center;">{{ele.displayAxes || ele.axes}}</td>
           
              <td colSpan="1">{{ele.displayProjetAction || ele.projet_action}}</td>
              <td colSpan="3"> <app-barr [data1]="data5[i]"></app-barr>
                
                 </td>
              </tr>
          </tbody>
         </table>
      </div>
      </div>


      <div class="card">
        
        <div class="card-header">
          2026
        </div>
          <div class="responsive-table tabb" >

        <table class="table" id="customers12">
          <thead>
      <tr>
      <th colSpan="1">{{ 'fields.anneeRealisation' | translate }}
      </th>
      <th colSpan="3">{{ 'fields.axes' | translate }}</th>
      
      <th colSpan="1">{{ 'fields.projetAction' | translate }}</th>
      <th colSpan="3">{{ 'fields.tauxRealisationPhysique' | translate }}</th>
      </tr>
          </thead>
          <tbody>
      
            <tr *ngFor="let ele of data6;let i = index">
              <td colSpan="1">{{ele.annee_realisation}}
              </td>
              <td colSpan="3" style="text-align: center;justify-content: center;">{{ele.displayAxes || ele.axes}}</td>
           
              <td colSpan="1">{{ele.displayProjetAction || ele.projet_action}}</td>
              <td colSpan="3"> <app-barr [data1]="data6[i]"></app-barr>
                
                 </td>
              </tr>
          </tbody>
         </table>
      </div>
      </div>
    </div>
  
  
  
  
  
    <!-- Footer -->
    <footer>
       
    </footer>
  
    <svg id="clouds" xmlns="http://www.w3.org/2000/svg" width="2611.084" height="485.677" viewBox="0 0 2611.084 485.677">
      <title>Gray Clouds Background</title>
      <path id="Path_39" data-name="Path 39" d="M2379.709,863.793c10-93-77-171-168-149-52-114-225-105-264,15-75,3-140,59-152,133-30,2.83-66.725,9.829-93.5,26.25-26.771-16.421-63.5-23.42-93.5-26.25-12-74-77-130-152-133-39-120-212-129-264-15-54.084-13.075-106.753,9.173-138.488,48.9-31.734-39.726-84.4-61.974-138.487-48.9-52-114-225-105-264,15a162.027,162.027,0,0,0-103.147,43.044c-30.633-45.365-87.1-72.091-145.206-58.044-52-114-225-105-264,15-75,3-140,59-152,133-53,5-127,23-130,83-2,42,35,72,70,86,49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33,61.112,8.015,113.854-5.72,150.492-29.764a165.62,165.62,0,0,0,110.861-3.236c47,94,178,113,251,33,31.385,4.116,60.563,2.495,86.487-3.311,25.924,5.806,55.1,7.427,86.488,3.311,73,80,204,61,251-33a165.625,165.625,0,0,0,120,0c51,13,108,15,157-5a147.188,147.188,0,0,0,33.5-18.694,147.217,147.217,0,0,0,33.5,18.694c49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33C2446.709,1093.793,2554.709,922.793,2379.709,863.793Z" transform="translate(142.69 -634.312)" fill="#eee"/>
    </svg>
  
  </div>
  
  <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
  <!-- * * * * * * * * * * * The content above * * * * * * * * * * * -->
  <!-- * * * * * * * * * * is only a placeholder * * * * * * * * * * -->
  <!-- * * * * * * * * * * and can be replaced. * * * * * * * * * * * -->
  <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
  <!-- * * * * * * * * * * End of Placeholder * * * * * * * * * * * -->
  <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
  
  